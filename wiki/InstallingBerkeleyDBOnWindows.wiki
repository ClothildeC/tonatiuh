#summary Instructions to install the Berkeley DB library needed to develop Tonatiuh uder Windows XP, Windows Vista or Windows 7.

== Introduction ==

Oracle Berkeley DB is the industry-leading open source, embeddable database engine that provides developers with fast, reliable, local persistence with zero administration. This library is used in Tonatiuh to implement photon maps plug-ins which can store an arbitrary number of photons.

Here you will find instructions to install the Berkeley DB library in your computer and make this library available for the development of Tonatiuh.

== Details ==

Use this [http://www.oracle.com/technology/software/products/berkeley-db/index.html link] to go to the Berkeley DB webpage of the Orable website. Once you reach the webpage, select the link to download the latest stable source code version of the Berkeley DB in your computer. Currently, this version is 5.1.19 (see Figure 1).

||http://picasaweb.google.com/lh/photo/_p2MZClfDGrzX6lbYXfoPckjYPHGJOebwiJHbWK4XiY?feat=directlink||
|| *Figure 1.* View of the _"Berkeley DB"_ webpage.||

Copy the downloaded file to your MSYS home directory. Open a MSYS shell, navigate to your home directory and extract the content of the downloaded files by typing:
{{{
tar -xzvf db-5.1.19.tar.gz
}}}

Change to the build directory with:
{{{
cd db-5.1.19/build_unix
}}}

To configure the Berkeley DB type the following command:
{{{
../dist/configure --disable-replication --enable-mingw --prefix=/usr/local
}}}

To build and install the library use the commands:
{{{
make
make install
}}}

At the end of the process, the Berkeley DB dynamic library _"libdb-5.1.dll"_ and the programs _"db_archive.exe"_, _"db_checkpoint.exe"_, _"db_deadlock.exe"_, _"db_dump.exe"_, _"db_hotbackup.exe"_, _"db_load.exe"_, _"db_log_verify.exe"_, _"db_printlog.exe"_, _"db_recover.exe"_, _"db_replicate.exe"_, _"db_stat.exe"_, _"db_upgrade.exe"_, and_"db_verify.exe"_ will be installed at the folder _"C:\sde\MinGW\msys\1.0\local\bin"_.  The Berkeley DB library files _"libdb-5.1.dll.a"_, _"libdb-5.1.a"_, and _"libdb-5.1.la"_ will be installed at the folder _"C:\sde\MinGW\msys\1.0\local\lib"_. In addition, the necessary include files will be installed at the folder _"C:\sde\MinGW\msys\1.0\local\include"_.


== Building an application==
To build an application with Berkeley DB library add the library headers path to include
variable as: 
{{{
INCLUDEPATH += 		$$(TDE_ROOT)/local/include 

}}}

Also, add the library to LIBS variable:
{{{
LIBS += -L$$(TDE_ROOT)/local/lib -ldb_cxx
}}}

Once the Berkeley DB library is installed the next step is to install the Eclipse Integrated Development Environment (IDE). To do it, follow the instructions in the following wiki page: [InstallingAndConfiguringEclipseForWindows Installing and Configuring Eclipse]

[InstallingForWindows Windows Configuration] | [http://code.google.com/p/tonatiuh/w/list Wiki Home]