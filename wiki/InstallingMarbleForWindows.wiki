#summary Instructions to install the Marble library needed to develop Tonatiuh under Windows XP, Windows Vista or Windows 7.

= Introduction =

Marble is a Virtual Globe and World Atlas. As a library, it is used within Tonatiuh to provide geographical positioning functionalities, which are needed, among other things, to facilitate the user the task of specifying the location on Earh of the solar concentrating systems she or he wants to analyze.

Here you will find instructions to install the Marble library in your computer and make this library available for the development of Tonatiuh.

= Details =


To compile marble you need CMake, a cross-platform make. You can obtain it from http://www.cmake.org/cmake/resources/software.html. Download the last version of cmake for windows, you need a version newer than 2.4. Install CMake at _C:\sde\CMake.

Now, download the source files from http://edu.kde.org/marble/download.php clicking on _Source download_ link. Place it into the user directory under your MSYS folder. This will typically be \usr\home\username. Open an MSYS shell console. Navigate to your MSYS user directory and extract the archive by typing: 

{{{
tar -zxvf marble-0.8.0_rev1005857.tar.gz
}}}

This will create a directory called _marble-version_ in your user directory. Using the MSYS shell navigate to just created marble-version directory and type:
{{{
export QTDIR=/c/sde/qt/qt_
export PATH=$QTDIR/bin:$PATH:/c/sde/cmake/bin
}}}

The command to create Makefiles on release mode is:
{{{
cmake -G"MSYS Makefiles" -Wno-dev -DQTONLY=ON -DCMAKE_BUILD_TYPE=Release ../marble
}}}

Then,
{{{
make
}}}

Copy marble include files to the folder "/local/include/marble".
{{{
mkdir /usr/local/include/marble
cp src/lib/*.h /usr/local/include/marble
cp src/lib/AbstractLayer/*.h /usr/local/include/marble
cp src/lib/geodata/*.h /usr/local/include/marble
cp src/lib/geodata/data/*.h /usr/local/include/marble
cp src/lib/geodata/handlers/dgml/*.h /usr/local/include/marble
cp src/lib/geodata/handlers/gpx/*.h /usr/local/include/marble
cp src/lib/geodata/handlers/kml/*.h /usr/local/include/marble
cp src/lib/geodata/parser/*.h /usr/local/include/marble
cp src/lib/geodata/scene/*.h /usr/local/include/marble
cp src/lib/gps/*.h /usr/local/include/marble
cp src/lib/Projections/*.h /usr/local/include/marble
}}}
Copy executable files to the folder "/local/include/bin".
{{{
cp src/marble.exe /usr/local/bin
cp src/tilecreator/tilecreator.exe /usr/local/bin
cp src/lib/geodatatest.exe /usr/local/bin
}}}
Copy main library files to the appropriate "/usr/local" folders.
{{{
cp src/lib/libmarblewidget.dll /usr/local/bin
cp src/lib/libmarblewidget.dll.a /usr/local/lib
}}}
Copy mable plugins to the folder "/usr/local/bin/marble".
{{{
mkdir /usr/local/bin/marble
cp src/plugins/render/navigation/libNavigationFloatItem.dll /usr/local/bin/marble
cp src/plugins/render/stars/libStarsPlugin.dll /usr/local/bin/marble
cp src/plugins/render/mapscale/libMapScaleFloatItem.dll /usr/local/bin/marble
cp src/plugins/render/overviewmap/libOverviewMap.dll /usr/local/bin/marble
cp src/plugins/render/compass/libCompassFloatItem.dll /usr/local/bin/marble
cp src/plugins/render/geodata/libGeoRendererPlugin.dll /usr/local/bin/marble
cp src/plugins/render/crosshairs/libCrosshairsPlugin.dll /usr/local/bin/marble
}}}


[InstallingForWindows Windows Configuration] | [http://code.google.com/p/tonatiuh/w/list Wiki Home]