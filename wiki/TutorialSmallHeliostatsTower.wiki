#summary How to model a tower system with 500 one-facet small heliostats.

= Introduction =

This tutorial explains:

 * How to use “!Tracker_Heliostat” plug-ins to embed  solar tracking behavior within the Tonatiuh model of a solar concentrating system.
 * How to use the scripting capabilities of Tonatiuh to automate the use of the program to simulate the optical behavior of a tracking solar concentrating system as a function of the sun position in the sky.
 * How to use Mathematica to post-process the results generated by Tonatiuh to compute the solar flux distribution incident upon a flat rectangular surface.
 * How to combine Tonatiuh and Mathematica capabilities to generate a optical efficiency matrix to characterize the optical behavior of a tower system.

= Heliostat modeling =

The heliostat to model is an small one-facet heliostat. Only the mirror needs to be modeled in Tonatiuh, since for a given heliostat the supporting mirror structure and tracking mechanism is not expected to cast relevant shadows on nearby heliostats.

The heliostat mirror is assumed to be a 5 meters by 5 meters spherical rectangular mirror. Since, for the heliostat field that will be modeled, the characteristic slant range of a heliostat is 150 m, the radius of the spherical mirror will be 300 m.

Therefore, to model the shape of the heliostat in Tonatiuh, please, do the following:

 # Go to the Tree View of Tonatiuh and click on the !RootNode TSeparatorKit to select it.
 # Once the !RootNode is selected, go to the plug-in Menu Bar and click on  the TSeparatorKit icon to insert a new TSeparatorKit below !RootNode.
 # Double click on the newly inserted TSeparatorKit and change its name from “TSeparatorKit1” to “Heliostat”.
 # With the “Heliostat” node selected in the Tree View, go to the plug-in Menu Bar and click on the !ShapeKit icon to insert a new TShapeKit object below the “Heliostat” TSeparatorKit.
 # Expand the “Heliostat” node, if it is not already expanded, to make the newly created TSeparatorKit visible in the Tree View. Once it is visible, double click on to change its name from “TShapeKit1” to “Mirror”.
 # With the newly created “Mirror” TSeparatorKit selected, go to the plug-in Menu Bar and click on the “Spherical_rectangle” icon to insert a new “Spherical_rectangle” shape node under the “Mirror” TShapeKit. This new shape node will be created with the default name “Spherical_rectangle”, keep that name.
 # With the “Spherical_rectangle” shape node selected in the Tree View, go to the “!ShapeSphericalRectangle” dialog that will appear below the Tree View and change the values of of the parameters that define this shape node to:
{{{
radius     300
width X    5
widthZ     5
activeSide INSIDE
}}}

Figure 1 shows the GUI of Tonatiuh after finishing the above steps. You can see the 5 m x 5 m spherical facet of the small heliostat in Tonatiuh's 3D view, the nodes that compose the Heliostat in Tonatiuh's Tree View, and the values that define the main parameter of the spherical heliostat facet in the Object Inspector view, just below the Tree View.

Obviously the content of the Object Inspector view changes depending on the Tree View item selected. Thus, if instead of having the Spherical-rectangle shape node selected you have the "Heliostat" !TSeparatorKit selected you will see the !TSeparatorKit Transform dialog, showing the following parameter values.
{{{
translation       0 0 0
rotation          0 0 1 0
scaleFactor       1 1 1
scaleOrientation  0 0 1 0
center            0 0 0
}}}