#summary How to model a tower system with 500 one-facet small heliostats.

= Introduction =

This tutorial explains:

 * How to use “!Tracker_Heliostat” plug-ins to embed  solar tracking behavior within the Tonatiuh model of a solar concentrating system.
 * How to use the scripting capabilities of Tonatiuh to automate the use of the program to simulate the optical behavior of a tracking solar concentrating system as a function of the sun position in the sky.
 * How to use Mathematica to post-process the results generated by Tonatiuh to compute the solar flux distribution incident upon a flat rectangular surface.
 * How to combine Tonatiuh and Mathematica capabilities to generate a optical efficiency matrix to characterize the optical behavior of a tower system.

= Basic heliostat modeling =

The heliostat to model is an small one-facet heliostat. Only the mirror needs to be modeled in Tonatiuh, since for a given heliostat the supporting mirror structure and tracking mechanism is not expected to cast relevant shadows on nearby heliostats.


== Heliostat shape ==

The heliostat mirror is assumed to be a 5 meters by 5 meters spherical rectangular mirror. Since, for the heliostat field that will be modeled, the characteristic slant range of a heliostat is 150 m, the radius of the spherical mirror will be 300 m.

Therefore, to model the shape of the heliostat in Tonatiuh, please, do the following:

 # Go to the Tree View of Tonatiuh and click on the !RootNode TSeparatorKit to select it.
 # Once the !RootNode is selected, go to the plug-in Menu Bar and click on  the TSeparatorKit icon to insert a new TSeparatorKit below !RootNode.
 # Double click on the newly inserted TSeparatorKit and change its name from “TSeparatorKit1” to “Heliostat”.
 # With the “Heliostat” node selected in the Tree View, go to the plug-in Menu Bar and click on the !ShapeKit icon to insert a new TShapeKit object below the “Heliostat” TSeparatorKit.
 # Expand the “Heliostat” node, if it is not already expanded, to make the newly created TSeparatorKit visible in the Tree View. Once it is visible, double click on to change its name from “TShapeKit1” to “Mirror”.
 # With the newly created “Mirror” TSeparatorKit selected, go to the plug-in Menu Bar and click on the “Spherical_rectangle” icon to insert a new “Spherical_rectangle” shape node under the “Mirror” TShapeKit. This new shape node will be created with the default name “Spherical_rectangle”, keep that name.
 # With the “Spherical_rectangle” shape node selected in the Tree View, go to the “!ShapeSphericalRectangle” dialog that will appear below the Tree View and change the values of of the parameters that define this shape node to:
{{{
radius     300
width X    5
widthZ     5
activeSide INSIDE
}}}

Figure 1 shows the GUI of Tonatiuh after finishing the above steps. You can see the 5 m x 5 m spherical facet of the small heliostat in Tonatiuh's 3D view, the nodes that compose the Heliostat in Tonatiuh's Tree View, and the values that define the main parameter of the spherical heliostat facet in the Object Inspector view, just below the Tree View.

||<a href="http://picasaweb.google.com/lh/photo/iLnAZ6EyD3wK2ZEZuA006A?feat=embedwebsite"><img src="http://lh6.ggpht.com/_tmEVMS15i5Y/TNqvQaaCObI/AAAAAAAAAuU/qz51aN7FzHs/s400/HeliostatModeling01.png" height="320" width="400" /></a>||
|| *Figure 1.* State of Tonatiuh's GUI after finishing the steps outlined.||

Obviously, the content of the Object Inspector view changes depending on the Tree View item selected. Thus, if instead of having the Spherical-rectangle shape node selected you have the "Heliostat" TSeparatorKit selected you will see the !SeparatorKit Transform dialog, showing the following parameter values.
{{{
translation       0 0 0
rotation          0 0 1 0
scaleFactor       1 1 1
scaleOrientation  0 0 1 0
center            0 0 0
}}}

== Heliostat mirror material ==
Once the shape of the heliostat facet has been modeled, it is the time to model the heliostat mirror material. To do this, please, do the following:

 #  Select the heliostat TShapeKit node.
 # With the heliostat TShapeKit selected, go to the Tonatiuh plug-ins Menu Bar and select the !Specular_Standard_Material icon.
 # After the new material note is created within the heliostat's TShapeKit, select the material node to change the default material's properties.
 # In the !MaterialStandardSpecular preperties dialog that will appear below the Tree View, for the purpose of this tutorial, please, change the value of the parameter “m_reflectivity” from 0 to 1.

= Basic central receiver input aperture modeling =
For a given position of the sun in the sky and a given value of the direct solar irradiance, what we want to estimate is the heliostat field solar collection efficiency. This efficiency is defined as the ratio between the amount of solar energy that reaches the central receiver input aperture plane and the maximum amount of solar energy that could reach the mirrored surfaces of the heliostat field.

From the above definition of the heliostat field solar collection efficiency, it follows that this efficiency is a function of the heliostat reflectivity, the atmospheric transmissivity, the distances from the heliostats to their corresponding aiming points in the central receiver input aperture plane, and the blocking and shadowing among heliostats.