#summary How to model a tower system with 500 one-facet small heliostats using the Tonatiuh script tool.

= Introduction =

This tutorial is going to be an introduction to tonatiuh script tool, which will allow users to create easier solar concentrating systems.


= Main functions =

Those are the functions to develop a sytem by scripting. They are explained following an alphabetic order:

{{{
ChangeSunPosition(double azimuth, double elevation) --> 
Sets the sun azimuth and sun elevation to those new values. The sun will be automatically  updated.

ChangeSunPosition(int year, int month, int day, double hours, double minutes, double seconds, double latitude, double longitude ) --> 
Sets the sun azimuth and sun elevation to the position the sun should be at the date and geographical position defined.

Copy()-->Copy the selected node.

Copy(QString nodeURL)-->Copy the nodeURL defined.

CreateGroupNode() --> Creates a separator node.

CreateAnalyzerNode() --> Creates an analyzer node.

CreateMaterial() --> Creates a material surface.

CreateShape(QString shapeType) --> Creates a new shape.

CreateSurfaceNode() --> Creates a TShapeKit node.

CreateTracker(QString trackerType) --> Creates a new tracker.

Cut() --> Cuts the selected node.

Cut(QString nodeURL) --> Cuts the node defined as nodeURL.

Delele() --> the selected node is deleted.

Delete( QString nodeURL) --> Deletes the node defined as nodeURL.

ExportAllPhotonMap(QString fileName) --> saves all PhotonMap in fileName.

ExportPhotonMap(QString fileName, QString nodeURL, bool globalCoord) -->
saves the nodeURL photonMap in global or relative coordinates into the fileName file.

InsertFileComponent(QString fileName) --> insert a component previously saved in fileName.

New() --> Opens a new window.

Open(QString fileName) --> opens the fileName file.

Paste(QString nodeURL, QString pasteType) --> Paste the node allocated on the clipboard as a child of nodeURL. pasteType is to indicate the type of paste
between Shared or Copied.

PasteCopy() --> Pastes the node allocated on the clipboard as a new child of the selected node.

PasteLink() --> Pastes the node allocated on the clipboard as a new child of the selected node. Instead a new node, this function creates a new pointer to the physical node.

Run() --> Runs tonatiuh system.

ResetAnalyzerValues() --> Resets analyzer values.

SaveAs(QString fileName)  --> Saves the current system into fileName.

SelectNode(QString nodeURL) --> Selects the nodeURL.

SetAimingPointAbsolute() --> AimingPoint set to Absolute value.

SetAimingPointRelative() --> AimingPoint set to Relative value.

SetIncreasePhotonMap(bool increase) --> Decides whether increase the photonMap or not.

SetNodeName(QString nodeName) --> Changes the selected node name to nodeName.

SetPhotonMapType(QString typeName)--> Selects the typeName photon map.

SetRandomDeviateType(QString typeName) --> Selects the typeName random seed.

SetRayCastingGrid(int widthDivisions, int heightDivisions) --> Sets the number of sun divisions.

SetRaysDrawingOptions(double raysFraction, bool drawPhotons) -->Checks between dypay or not the Photons and the percent of rays to draw after running the system.

SetRaysPerInteraction(int rays) --> Sets the number of desired rays to launch the system.

SetSunShape( QString sunshapeType) -->  Selects the type of sun to simulate the system.

SetSunShapeParameter(QString parameter, QString value) -->Assigns the value to the parameter of the sun.

SetTransmissivity(QString transmissivityType) --> Set the transmissivityType transmissivity to the system.

SetTransmissivityParameter(QString parameter, QString value) --> Assigns the value to the parameter of the transmissivity.

SetValue(QString nodeURL,QString parameter, QString value) --> Set to nodeURL, the value to the parameter.


}}}